#!/bin/sh
# Git pre-commit hook: fail the commit unless all tests pass via `uv run pytest`.
set -eu

# Ensure uv is available
if ! command -v uv >/dev/null 2>&1; then
  echo "pre-commit: 'uv' not found in PATH; install uv to run tests." >&2
  exit 1
fi

uv run ruff check --fix
uv run pytest

